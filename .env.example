# Public (safe for client bundle)
NEXT_PUBLIC_SITE_URL=http://localhost:3000
# Indexing switch: keep empty/false for staging, set true for public launch.
ENABLE_PUBLIC_INDEXING=
NEXT_PUBLIC_TURNSTILE_SITE_KEY=
NEXT_PUBLIC_PLAUSIBLE_SRC=
# Optional: override Plausible `data-domain` (defaults to hostname from NEXT_PUBLIC_SITE_URL)
# NEXT_PUBLIC_PLAUSIBLE_DOMAIN=

# CMS (Sanity)
SANITY_PROJECT_ID=
SANITY_DATASET=
SANITY_API_TOKEN=
SANITY_API_VERSION=2025-02-06

# Webhooks / Draft mode
WEBHOOK_HMAC_SECRET=
DRAFT_MODE_SECRET=

# Contact (Resend)
RESEND_API_KEY=
CONTACT_FROM_EMAIL=
CONTACT_TO_EMAIL=

# Captcha (Cloudflare Turnstile)
TURNSTILE_SECRET_KEY=

# Rate limiting (Upstash Redis)
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# Vector DB (Supabase Postgres + pgvector)
SUPABASE_DB_URL=
# Or: DATABASE_URL=

# OpenAI (RAG)
OPENAI_API_KEY=
OPENAI_CHAT_MODEL=gpt-4o-mini
OPENAI_EMBED_MODEL=text-embedding-3-small

# Ask / RAG controls
ASK_TOP_K=8
# How many candidates to pull from the vector store before re-ranking/diversifying.
ASK_CANDIDATES=24
# Cap how many chunks are taken per doc_id (diversity).
ASK_MAX_PER_DOC=3
# Optional: similarity threshold in [-1,1] (cosine similarity). Leave empty to disable.
ASK_MIN_COSINE_SIMILARITY=
ASK_MAX_TOKENS=450

# Postgres connection tuning (optional)
# Force IPv4 or IPv6 if your network has issues: 4 or 6
PG_FAMILY=
# Override connect timeout in ms (default dev: 5000)
PG_CONNECT_TIMEOUT_MS=

# Dev-only (unsafe): allow /api/reindex without webhook signature
ALLOW_DEV_UNSAFE_REINDEX=

# Ingestion controls (optional)
# How many parallel embedding requests during /api/reindex
RAG_INGEST_CONCURRENCY=2
# If set to 1, delete DB rows that are no longer produced by the ingester (keeps index clean).
RAG_PRUNE_MISSING=

# Daily budget controls (choose one)
ASK_DAILY_LIMIT=
ASK_DAILY_BUDGET_USD=
# Used when ASK_DAILY_BUDGET_USD is set (approximate cost per query, in USD)
ASK_ESTIMATED_COST_USD=0.01

# Private corpus (server-only). Keep this file out of git.
# PRIVATE_PROFILE_PATH=private_corpus/high_profile_cv.md
